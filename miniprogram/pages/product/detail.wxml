<!--detail.wxml-->
<wxs src="../../utils/filters.wxs" module="f"></wxs>
<view class="container">
  <swiper class="product-swiper"
    indicator-dots="{{true}}"
    autoplay="{{true}}"
    circular="{{true}}"
    interval="3000"
  >
    <swiper-item wx:for="{{product.images}}" wx:key="*this">
      <image src="{{item}}" mode="aspectFit" class="product-image" bindtap="previewImage" data-current="{{item}}"></image>
    </swiper-item>
  </swiper>

  <view class="product-info">
    <view class="basic-info">
      <view class="model-spec-row">
        <text class="model-inline">型号：{{f.display(product.frame_model)}}</text>
        <text class="spec-inline">镜架尺寸：{{f.unit(product.lens_size, '')}}-{{f.unit(product.nose_bridge_width, '')}}-{{f.unit(product.temple_length, '')}}</text>
      </view>
      <view class="total-price-row">
        <text class="total">总长：{{f.unit(product.frame_total_length, 'mm')}}</text>
        <text class="price">售价：￥{{f.display(product.price)}}</text>
      </view>
    </view>

    <view class="specs-info">
      <view class="spec-item">
        <text class="label">镜片尺寸：</text>
        <text class="value">{{f.unit(product.lens_size, 'mm')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">鼻梁宽度：</text>
        <text class="value">{{f.unit(product.nose_bridge_width, 'mm')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">镜腿长度：</text>
        <text class="value">{{f.unit(product.temple_length, 'mm')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">镜架高度：</text>
        <text class="value">{{f.unit(product.frame_height, 'mm')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">包边厚度：</text>
        <text class="value">{{f.unit(product.frame_thickness, 'mm')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">重量：</text>
        <text class="value">{{f.unit(product.weight, 'g')}}</text>
      </view>
      <view class="spec-item">
        <text class="label">材料：</text>
        <text class="value">{{f.display(product.frame_material)}}</text>
      </view>
      <view class="spec-item">
        <text class="label">品牌：</text>
        <text class="value">{{f.display(product.brand)}}</text>
      </view>
    </view>

    <view class="notes">
      <text class="notes-title">备注信息</text>
      <text class="notes-content">{{f.display(product.notes)}}</text>
    </view>

    <!-- 底部顺序展示所有轮播图 -->
    <view wx:if="{{product.images && product.images.length}}" class="image-gallery-section">
      <text class="section-title">镜架展示</text>
      <view class="image-gallery">
        <block wx:for="{{product.images}}" wx:key="*this">
          <image
            src="{{item}}"
            mode="widthFix"
            class="gallery-image"
            bindtap="previewImage"
            data-current="{{item}}"
          ></image>
        </block>
      </view>
    </view>
  </view>
</view>